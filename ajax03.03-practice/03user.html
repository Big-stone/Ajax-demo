<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    <style>
        table {
            width: 600px;
            border-collapse: collapse;
        }
        td {
            height: 40px;
            text-align: center;
            border: 1px solid #CCC;
        }
    </style>
    </head>
    <body>
    	<input type="button" value="查询用户">

    	<table>
    		<tr>
    			<td>姓名</td>
    			<td>年龄</td>
    			<td>性别</td>
    			<td>照片</td>
    		</tr>
    	</table>
    </body>
    <script>


     document.querySelector('input').onclick = function ( ) {

     		var xhr = new XMLHttpRequest();
     			xhr.open('POST',"03user.php");
     			xhr.setRequestHeader("Content-Type","application/x-www-form-urlencode");
     			xhr.send(null);
     			xhr.onreadystatechange = function ( ) {
     				if( xhr.readyState == 4 && xhr.status == 200 ) {
     					var data = xhr.responseXML;

     					console.log(data);
     					var users = data.getElementsByTagName("user");

     					console.log(users);
     					for( var i = 0; i < users.length; i++ ) {

     						 var tr = document.createElement('tr');
     						 var td1 = document.createElement('td');
     						 var td2 = document.createElement('td');
     						 var td3 = document.createElement('td');
     						 var td4 = document.createElement('td');

     						 td1.innerHTML = users[ i ].getElementsByTagName("username")[ 0 ].innerHTML;
     						 td2.innerHTML = users[ i ].getElementsByTagName("age")[ 0 ].innerHTML;
     						 td3.innerHTML = users[ i ].getElementsByTagName("gender")[ 0 ].innerHTML;
     						      						 
     						 var img = document.createElement('img');

     						 	 img.setAttribute("src",users[ i ].getElementsByTagName("url")[ 0 ].innerHTML );

     						 	 td4.appendChild(img);


     						 tr.appendChild(td1);
     						 tr.appendChild(td2);
     						 tr.appendChild(td3);
     						 tr.appendChild(td4);

     						 document.querySelector("table").appendChild(tr);
     					}

     				}
     			}
     }
    </script>
</html>